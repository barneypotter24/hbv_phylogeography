	<!-- START Discrete Traits Model                                             -->

	<!-- asymmetric CTMC model for discrete state reconstructions                -->
	<generalSubstitutionModel id="location.model" randomizeIndicator="false">
		<generalDataType idref="location.dataType"/>
		<frequencies>
			<frequencyModel id="location.frequencyModel" normalize="true">
				<generalDataType idref="location.dataType"/>
				<frequencies>
					<parameter id="location.frequencies" dimension="5"/>
				</frequencies>
			</frequencyModel>
		</frequencies>

		<!-- rates and indicators                                                    -->
		<rates>
			<parameter id="location.rates" dimension="20" value="1.0" lower="0.0"/>
		</rates>
		<rateIndicator>
			<parameter id="location.indicators" dimension="20" value="1.0"/>
		</rateIndicator>
	</generalSubstitutionModel>
	<sumStatistic id="location.nonZeroRates" elementwise="true">
		<parameter idref="location.indicators"/>
	</sumStatistic>
	<productStatistic id="location.actualRates" elementwise="false">
		<parameter idref="location.indicators"/>
		<parameter idref="location.rates"/>
	</productStatistic>
	<siteModel id="location.siteModel">
		<substitutionModel>
			<generalSubstitutionModel idref="location.model"/>
		</substitutionModel>
	</siteModel>

	<!-- Likelihood for tree given discrete trait data                           -->
	<ancestralTreeLikelihood id="location.treeLikelihood" stateTagName="location.states" useUniformization="true" saveCompleteHistory="false" logCompleteHistory="false">
		<attributePatterns idref="location.pattern"/>
		<treeModel idref="treeModel"/>
		<siteModel idref="location.siteModel"/>
		<generalSubstitutionModel idref="location.model"/>
		<generalSubstitutionModel idref="location.model"/>
		<strictClockBranchRates idref="location.branchRates"/>

		<!-- The root state frequencies                                              -->
		<frequencyModel id="location.root.frequencyModel" normalize="true">
			<generalDataType idref="location.dataType"/>
			<frequencies>
				<parameter id="location.root.frequencies" dimension="5"/>
			</frequencies>
		</frequencyModel>
	</ancestralTreeLikelihood>

	<!-- END Discrete Traits Model                                               -->
